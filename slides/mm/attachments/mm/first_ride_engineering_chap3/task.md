# イベント参加者管理アプリ タスク一覧

## プロジェクト概要
Googleフォームの回答スプレッドシートをデータソースとして利用し、参加者のチェックインと管理者による参加者一覧閲覧を提供するフロントエンドアプリケーション。

---

## タスク一覧

### 1. プロジェクト初期設定
- [ ] プロジェクト初期設定（package.json、ディレクトリ構造、基本設定ファイル）
  - フロントエンドフレームワークの選択とセットアップ
  - 依存関係の定義（Google APIs、UI ライブラリ等）
  - 開発環境の構築（TypeScript、ESLint、Prettier等）
  - ディレクトリ構造の設計

### 2. 認証・API連携
- [ ] Google OAuth 2認証機能の実装（Identity Services）
  - Google Identity Services の統合
  - 認証フローの実装
  - トークン管理（短期保持、永続保存禁止）
  - 権限スコープの設定（最小権限）

- [ ] Google Sheets API連携機能の実装（読み書き、権限確認）
  - Google Sheets API v4 の統合
  - スプレッドシート読み書き機能
  - 接続テスト機能
  - エラーハンドリング

### 3. 管理者機能
- [ ] 管理者設定画面の実装（URL設定、接続テスト、列マッピング）
  - スプレッドシートURL入力フォーム
  - 接続テスト機能
  - 氏名列マッピング設定
  - 設定の永続化

- [ ] 管理者一覧画面の実装（検索、並び替え、CSV出力）
  - 参加者一覧の表示
  - 検索・フィルタ機能（氏名、メール、入場状態）
  - 並び替え機能（氏名、申込日時、入場時刻）
  - CSV出力機能
  - レスポンシブデザイン

### 4. 受付機能
- [ ] 受付画面の実装（氏名完全一致検索、チェックイン処理）
  - 氏名完全一致検索フォーム
  - 検索結果表示（最小情報のみ）
  - チェックイン処理
  - Undo機能（一定時間内）
  - エラーメッセージ表示

### 5. データ管理
- [ ] システム用列の自動追加機能（_participant_id、_checkin_status等）
  - システム列の定義
  - 自動追加機能
  - 列マッピングの管理
  - データ整合性の確保

- [ ] 競合回避機能（_updated_at比較、再読込促し）
  - 更新前の_updated_at比較
  - 競合検出時の処理
  - 再読込促し機能
  - データ整合性の維持

### 8. UI/UX
- [ ] UI/UX実装（レスポンシブデザイン、エラーハンドリング）
  - モダンなUIデザイン
  - レスポンシブ対応
  - エラーハンドリング
  - ローディング状態の表示
  - アクセシビリティ対応

### 10. セキュリティ・最適化
- [ ] セキュリティ実装
  - HTTPS必須対応
  - データ表示制御（受付画面での情報制限）
  - 入力値検証
  - XSS対策

- [ ] パフォーマンス最適化
  - 初回ロード3秒以内（5,000件）
  - 検索200ms以内
  - 差分更新対応
  - メモリ使用量最適化

---

## 技術スタック（推奨）

### フロントエンド
- **フレームワーク**: Nuxt.js/Vue.js
- **言語**: TypeScript
- **スタイリング**: Tailwind CSS
- **状態管理**: Pinia

### Google API
- **認証**: Google Identity Services
- **スプレッドシート**: Google Sheets API v4
- **スコープ**: `https://www.googleapis.com/auth/spreadsheets`

### 開発環境
- **ビルドツール**: Vite / Webpack
- **リンター**: ESLint + Prettier
- **型チェック**: TypeScript

### ストレージ
- **設定**: localStorage / sessionStorage

---

## マイルストーン

### Phase 1: 基盤構築（1-2週間）
- プロジェクト初期設定
- Google OAuth認証
- 基本的なSheets API連携

### Phase 2: コア機能（2-3週間）
- 管理者設定画面
- 受付画面（基本機能）
- システム列管理

### Phase 3: 高度機能（1-2週間）
- 管理者一覧画面
- 競合回避

### Phase 4: 完成・テスト（1週間）
- UI/UX改善
- パフォーマンス最適化

---

## 注意事項

1. **セキュリティ**: 最小権限の原則に従い、必要最小限のスコープのみ使用
2. **パフォーマンス**: 5,000件の参加者データでも快適に動作するよう最適化
3. **ユーザビリティ**: 受付担当者が迷わず操作できる直感的なUI
4. **データ整合性**: 複数ユーザーによる同時操作時の競合を適切に処理
